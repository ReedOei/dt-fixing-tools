# docker build -t <IMAGE>:latest - < <MODIFIEDSLUG>_Dockerfile

# Start from the base detect image
FROM detectorbase:latest

WORKDIR /home/awshi2
USER awshi2

## Install the tooling
RUN \
  git clone https://github.com/ReedOei/testrunner && \
  cd testrunner/ && /home/awshi2/apache-maven/bin/mvn clean install && cd /home/awshi2 && \
  git clone https://github.com/ReedOei/dt-fixing-tools && \
  cd dt-fixing-tools/ && git checkout dynamicinstr && /home/awshi2/apache-maven/bin/mvn clean install && cd /home/awshi2

# Download the project, checkout the SHA, install the project (with running tests)
RUN \
  git clone https://github.com/<SLUG> <SLUG> && cd <SLUG> && git checkout <SHA> && \
  /home/awshi2/apache-maven/bin/mvn clean install -DskipTests && cd -

ENTRYPOINT /bin/bash
